@model WorkoutTrackingApp.ViewModels.MessageViewModel

@{
    ViewData["Title"] = "Send Message";
}
@if (!User.Identity.IsAuthenticated || !User.IsInRole("Trainer"))
{
    <div class="container my-5 text-center">
        <p>Access Denied.</p>
    </div>
}


else
{
<h2>Send a Message to a User</h2>

<form asp-action="SendMessage" asp-controller="TrainerProfileDashboard" method="post">
    <div class="form-group"> 
        <label asp-for="RecipientId">Select User:</label>
        <select asp-for="RecipientId" asp-items="Model.Users" class="form-control"></select>
    </div>

    <!-- Workouts dropdown -->
    <div class="form-group">
        <label asp-for="SelectedWorkoutId">Select Workout:</label>
        <select asp-for="SelectedWorkoutId" asp-items="Model.Workouts" class="form-control">
            <option value="">-- Select a Workout --</option>
        </select>
    </div>

    <!--Exercises dropdown-->
    <div class="form-group">
        <label asp-for="SelectedExerciseId">Select Exercise:</label>
        <select asp-for="SelectedExerciseId" asp-items="Model.Exercises" class="form-control">
            <option value="">-- Select an Exercise --</option>
        </select>
    </div>

    <div class="form-group">
        <label asp-for="Content">Message:</label>
        <textarea asp-for="Content" class="form-control"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Send Message</button>
</form>
}
